var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function c(e){return document.createElement(e)}function u(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function d(e){return document.createTextNode(e)}function p(){return d(" ")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function f(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t,n){const o=new Set;for(let t=0;t<e.length;t+=1)e[t].checked&&o.add(e[t].__value);return n||o.delete(t),Array.from(o)}function g(e){return""===e?null:+e}function m(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}function _(e,t,n){e.classList[n?"add":"remove"](t)}let b;function x(e){b=e}function k(e){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(e)}const y=[],$=[],L=[],C=[],O=Promise.resolve();let E=!1;function M(e){L.push(e)}const j=new Set;let S=0;function N(){const e=b;do{for(;S<y.length;){const e=y[S];S++,x(e),B(e.$$)}for(x(null),y.length=0,S=0;$.length;)$.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];j.has(t)||(j.add(t),t())}L.length=0}while(y.length);for(;C.length;)C.pop()();E=!1,j.clear(),x(e)}function B(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const T=new Set;function A(e,t){-1===e.$$.dirty[0]&&(y.push(e),E||(E=!0,O.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function H(s,r,l,c,u,d,p,v=[-1]){const f=b;x(s);const h=s.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:v,skip_bound:!1,root:r.target||f.$$.root};p&&p(h.root);let g=!1;if(h.ctx=l?l(s,r.props||{},((e,t,...n)=>{const o=n.length?n[0]:t;return h.ctx&&u(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),g&&A(s,e)),t})):[],h.update(),g=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);h.fragment&&h.fragment.l(e),e.forEach(a)}else h.fragment&&h.fragment.c();r.intro&&((m=s.$$.fragment)&&m.i&&(T.delete(m),m.i(w))),function(e,n,s,r){const{fragment:l,on_mount:a,on_destroy:c,after_update:u}=e.$$;l&&l.m(n,s),r||M((()=>{const n=a.map(t).filter(i);c?c.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(M)}(s,r.target,r.anchor,r.customElement),N()}var m,w;x(f)}function R(e){return e.map((e=>({id:e.id,position:{up:+e.position.up,down:+e.position.down}})))}function z(e,t,n){const o=e.slice();return o[34]=t[n],o[36]=n,o}function V(e){let t,n,i,s,u,h,g,w,b,x,k,y,$,L,C,O,E,M,j,S,N,B,T,A,H,R,V,I,D,F,q;function G(e,t){return 1==e[1]?U:P}let W=G(e),K=W(e),Q=Array(e[4]),X=[];for(let t=0;t<Q.length;t+=1)X[t]=Z(z(e,Q,t));let Y=e[3]&&e[0].length>0&&J(e);return{c(){t=c("section"),n=c("h1"),i=d("Calibrazione "),s=d(e[5]),u=p(),h=c("p"),h.innerHTML="Seleziona un servo ed una marcia per iniziare la calibrazione del cambio.<br/>\n\t\t\t\tModificare i valori dalla form in fondo alla pagina.<br/>\n\t\t\t\tPer inviare le modifiche alla bici premi sullâ€™icona in basso a destra.<br/>\n\t\t\t\tPer resettare le modifiche premere l&#39;icona in basso a sinistra, si riprendono i valori attuali dalla bici.",g=p(),w=c("input"),b=p(),x=c("label"),x.textContent="Inverti layout",k=p(),y=c("section"),$=c("div"),K.c(),L=p(),C=c("div");for(let e=0;e<X.length;e+=1)X[e].c();O=p(),Y&&Y.c(),E=p(),M=c("section"),j=c("span"),j.textContent="Esporta posizioni su file",S=p(),N=c("br"),B=p(),T=c("span"),T.textContent="Importa posizioni da file",A=p(),H=c("input"),R=p(),V=c("div"),V.innerHTML='<svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="27" cy="27" r="27" fill="#C4C4C4"></circle><path d="M15.7038 16.7988L27.9075 22.0312L15.6875 20.4062L15.7038 16.7988ZM27.8913 30.9688L15.6875 36.2012V32.5938L27.8913 30.9688ZM12.4537 11.875L12.4375 23.25L36.8125 26.5L12.4375 29.75L12.4537 41.125L46.5625 26.5L12.4537 11.875Z" fill="black"></path></svg>',I=p(),D=c("div"),D.innerHTML='<svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="27" cy="27" r="27" fill="#C4C4C4"></circle><path d="M37.25 31.375V36.25H17.75V31.375H14.5V36.25C14.5 38.0375 15.9625 39.5 17.75 39.5H37.25C39.0375 39.5 40.5 38.0375 40.5 36.25V31.375H37.25ZM35.625 24.875L33.3338 22.5838L29.125 26.7763V13.5H25.875V26.7763L21.6662 22.5838L19.375 24.875L27.5 33L35.625 24.875Z" fill="black"></path></svg>',f(w,"type","checkbox"),f(w,"id","reverseCheckbox"),w.hidden=!0,f(w,"class","svelte-76nv9a"),f(x,"class","reverse-button svelte-76nv9a"),f(x,"for","reverseCheckbox"),f(C,"class","gears svelte-76nv9a"),_(C,"gears-reverse",e[6]),f($,"class","gear-container svelte-76nv9a"),f(j,"class","svelte-76nv9a"),f(T,"class","svelte-76nv9a"),f(H,"type","file"),f(H,"id","import-file"),H.hidden=!0,f(H,"class","svelte-76nv9a"),f(M,"class","export-container svelte-76nv9a"),f(V,"class","send-button svelte-76nv9a"),f(D,"class","receive-button svelte-76nv9a")},m(o,a){l(o,t,a),r(t,n),r(n,i),r(n,s),r(t,u),r(t,h),r(t,g),r(t,w),w.checked=e[6],r(t,b),r(t,x),l(o,k,a),l(o,y,a),r(y,$),K.m($,null),r($,L),r($,C);for(let e=0;e<X.length;e+=1)X[e].m(C,null);l(o,O,a),Y&&Y.m(o,a),l(o,E,a),l(o,M,a),r(M,j),r(M,S),r(M,N),r(M,B),r(M,T),r(M,A),r(M,H),l(o,R,a),l(o,V,a),l(o,I,a),l(o,D,a),F||(q=[v(w,"change",e[16]),v(j,"click",e[30]),v(T,"click",e[31]),v(V,"click",e[32]),v(D,"click",e[33])],F=!0)},p(e,t){if(32&t[0]&&m(s,e[5]),64&t[0]&&(w.checked=e[6]),W===(W=G(e))&&K?K.p(e,t):(K.d(1),K=W(e),K&&(K.c(),K.m($,L))),24&t[0]){let n;for(Q=Array(e[4]),n=0;n<Q.length;n+=1){const o=z(e,Q,n);X[n]?X[n].p(o,t):(X[n]=Z(o),X[n].c(),X[n].m(C,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=Q.length}64&t[0]&&_(C,"gears-reverse",e[6]),e[3]&&e[0].length>0?Y?Y.p(e,t):(Y=J(e),Y.c(),Y.m(E.parentNode,E)):Y&&(Y.d(1),Y=null)},d(e){e&&a(t),e&&a(k),e&&a(y),K.d(),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(X,e),e&&a(O),Y&&Y.d(e),e&&a(E),e&&a(M),e&&a(R),e&&a(V),e&&a(I),e&&a(D),F=!1,o(q)}}}function I(t){let n;return{c(){n=c("div"),n.textContent="Getting bike info..."},m(e,t){l(e,n,t)},p:e,d(e){e&&a(n)}}}function P(e){let t,n,i,s,u,d,h,g,m,w;return{c(){t=c("div"),n=c("input"),i=p(),s=c("label"),s.textContent="Servo 1",u=p(),d=c("input"),h=p(),g=c("label"),g.textContent="Servo 2",f(n,"id","servo_2-1"),f(n,"type","checkbox"),n.__value=1,n.value=n.__value,n.hidden=!0,f(n,"class","svelte-76nv9a"),e[18][0].push(n),f(s,"for","servo_2-1"),f(s,"class","servo double-servo svelte-76nv9a"),_(s,"selected-servo",e[0].includes(1)),f(d,"id","servo_2-2"),f(d,"type","checkbox"),d.__value=2,d.value=d.__value,d.hidden=!0,f(d,"class","svelte-76nv9a"),e[18][0].push(d),f(g,"for","servo_2-2"),f(g,"class","servo double-servo svelte-76nv9a"),_(g,"selected-servo",e[0].includes(2)),f(t,"class","double-servo-wrapper svelte-76nv9a")},m(o,a){l(o,t,a),r(t,n),n.checked=~e[0].indexOf(n.__value),r(t,i),r(t,s),r(t,u),r(t,d),d.checked=~e[0].indexOf(d.__value),r(t,h),r(t,g),m||(w=[v(n,"change",e[19]),v(d,"change",e[20])],m=!0)},p(e,t){1&t[0]&&(n.checked=~e[0].indexOf(n.__value)),1&t[0]&&_(s,"selected-servo",e[0].includes(1)),1&t[0]&&(d.checked=~e[0].indexOf(d.__value)),1&t[0]&&_(g,"selected-servo",e[0].includes(2))},d(i){i&&a(t),e[18][0].splice(e[18][0].indexOf(n),1),e[18][0].splice(e[18][0].indexOf(d),1),m=!1,o(w)}}}function U(e){let t,n,o,i,s,u;return{c(){t=c("div"),n=c("input"),o=p(),i=c("label"),i.textContent="Servo 1",f(n,"id","servo_1-1"),f(n,"type","checkbox"),n.__value=1,n.value=n.__value,n.hidden=!0,f(n,"class","svelte-76nv9a"),e[18][0].push(n),f(i,"for","servo_1-1"),f(i,"class","servo svelte-76nv9a"),_(i,"selected-servo",e[0].includes(1)),f(t,"class","single-servo-wrapper svelte-76nv9a")},m(a,c){l(a,t,c),r(t,n),n.checked=~e[0].indexOf(n.__value),r(t,o),r(t,i),s||(u=v(n,"change",e[17]),s=!0)},p(e,t){1&t[0]&&(n.checked=~e[0].indexOf(n.__value)),1&t[0]&&_(i,"selected-servo",e[0].includes(1))},d(o){o&&a(t),e[18][0].splice(e[18][0].indexOf(n),1),s=!1,u()}}}function Z(e){let t,n,o,i,s,u,p=e[36]+1+"";function h(){return e[21](e[36])}return{c(){t=c("div"),n=c("span"),o=d(p),f(n,"class","svelte-76nv9a"),f(t,"class",i="gear gear-"+(e[36]+1)+" svelte-76nv9a"),_(t,"selected-gear",e[3]==e[36]+1)},m(e,i){l(e,t,i),r(t,n),r(n,o),s||(u=v(t,"click",h),s=!0)},p(n,o){e=n,8&o[0]&&_(t,"selected-gear",e[3]==e[36]+1)},d(e){e&&a(t),s=!1,u()}}}function J(e){let t,n,i,s,h,g,w,_,b,x,k,y,$,L,C,O,E,M,j,S,N,B,T,A,H,R,z,V,I,P,U,Z,J=e[1]>1&&D(e),K=e[8]&&F(e),Q=e[7]&&q(e),X=e[8]&&G(e),Y=e[7]&&W(e);return{c(){t=c("section"),n=c("h2"),i=d("Marcia "),s=d(e[3]),h=p(),J&&J.c(),g=p(),w=c("div"),_=c("div"),b=c("label"),b.textContent="DOWN",x=p(),k=c("div"),y=u("svg"),$=u("path"),L=p(),K&&K.c(),C=p(),Q&&Q.c(),O=p(),E=u("svg"),M=u("path"),j=p(),S=c("div"),N=c("label"),N.textContent="UP",B=p(),T=c("div"),A=u("svg"),H=u("path"),R=p(),X&&X.c(),z=p(),Y&&Y.c(),V=p(),I=u("svg"),P=u("path"),f(b,"for","down_position_1"),f(b,"class","svelte-76nv9a"),f($,"d","M10 19L2.44523 11.76C1.64725 10.9953 1.62085 9.72828 2.38627 8.93097L10 1"),f($,"stroke","black"),f($,"stroke-width","2"),f($,"stroke-linecap","round"),f(y,"width","11"),f(y,"height","20"),f(y,"viewBox","0 0 11 20"),f(y,"fill","none"),f(y,"xmlns","http://www.w3.org/2000/svg"),f(y,"class","svelte-76nv9a"),f(M,"d","M1 1L8.55477 8.23999C9.35275 9.00471 9.37915 10.2717 8.61373 11.069L1 19"),f(M,"stroke","black"),f(M,"stroke-width","2"),f(M,"stroke-linecap","round"),f(E,"width","11"),f(E,"height","20"),f(E,"viewBox","0 0 11 20"),f(E,"fill","none"),f(E,"xmlns","http://www.w3.org/2000/svg"),f(E,"class","svelte-76nv9a"),f(k,"class","input-wrapper svelte-76nv9a"),f(_,"class","svelte-76nv9a"),f(N,"for","down_position_1"),f(N,"class","svelte-76nv9a"),f(H,"d","M10 19L2.44523 11.76C1.64725 10.9953 1.62085 9.72828 2.38627 8.93097L10 1"),f(H,"stroke","black"),f(H,"stroke-width","2"),f(H,"stroke-linecap","round"),f(A,"width","11"),f(A,"height","20"),f(A,"viewBox","0 0 11 20"),f(A,"fill","none"),f(A,"xmlns","http://www.w3.org/2000/svg"),f(A,"class","svelte-76nv9a"),f(P,"d","M1 1L8.55477 8.23999C9.35275 9.00471 9.37915 10.2717 8.61373 11.069L1 19"),f(P,"stroke","black"),f(P,"stroke-width","2"),f(P,"stroke-linecap","round"),f(I,"width","11"),f(I,"height","20"),f(I,"viewBox","0 0 11 20"),f(I,"fill","none"),f(I,"xmlns","http://www.w3.org/2000/svg"),f(I,"class","svelte-76nv9a"),f(T,"class","input-wrapper svelte-76nv9a"),f(S,"class","svelte-76nv9a"),f(w,"class","form-container svelte-76nv9a")},m(o,a){l(o,t,a),r(t,n),r(n,i),r(n,s),r(t,h),J&&J.m(t,null),r(t,g),r(t,w),r(w,_),r(_,b),r(_,x),r(_,k),r(k,y),r(y,$),r(k,L),K&&K.m(k,null),r(k,C),Q&&Q.m(k,null),r(k,O),r(k,E),r(E,M),r(w,j),r(w,S),r(S,N),r(S,B),r(S,T),r(T,A),r(A,H),r(T,R),X&&X.m(T,null),r(T,z),Y&&Y.m(T,null),r(T,V),r(T,I),r(I,P),U||(Z=[v(y,"click",e[22]),v(E,"click",e[25]),v(A,"click",e[26]),v(I,"click",e[29])],U=!0)},p(e,n){8&n[0]&&m(s,e[3]),e[1]>1?J?J.p(e,n):(J=D(e),J.c(),J.m(t,g)):J&&(J.d(1),J=null),e[8]?K?K.p(e,n):(K=F(e),K.c(),K.m(k,C)):K&&(K.d(1),K=null),e[7]?Q?Q.p(e,n):(Q=q(e),Q.c(),Q.m(k,O)):Q&&(Q.d(1),Q=null),e[8]?X?X.p(e,n):(X=G(e),X.c(),X.m(T,z)):X&&(X.d(1),X=null),e[7]?Y?Y.p(e,n):(Y=W(e),Y.c(),Y.m(T,V)):Y&&(Y.d(1),Y=null)},d(e){e&&a(t),J&&J.d(),K&&K.d(),Q&&Q.d(),X&&X.d(),Y&&Y.d(),U=!1,o(Z)}}}function D(e){let t,n,o,i=e[0].join(" / ")+"";return{c(){t=c("p"),n=d("Servo "),o=d(i)},m(e,i){l(e,t,i),r(t,n),r(t,o)},p(e,t){1&t[0]&&i!==(i=e[0].join(" / ")+"")&&m(o,i)},d(e){e&&a(t)}}}function F(e){let t,n,o;return{c(){t=c("input"),f(t,"type","number"),f(t,"id","down_position_1"),f(t,"name","down_position_1"),f(t,"min","0"),f(t,"max","360"),f(t,"step","1"),f(t,"class","svelte-76nv9a")},m(i,s){l(i,t,s),w(t,e[8].gears[e[3]-1].position.down),n||(o=v(t,"input",e[23]),n=!0)},p(e,n){264&n[0]&&g(t.value)!==e[8].gears[e[3]-1].position.down&&w(t,e[8].gears[e[3]-1].position.down)},d(e){e&&a(t),n=!1,o()}}}function q(e){let t,n,o,i,s;return{c(){t=c("span"),t.textContent="/",n=p(),o=c("input"),f(t,"class","svelte-76nv9a"),f(o,"type","number"),f(o,"id","down_position_2"),f(o,"name","down_position_2"),f(o,"min","0"),f(o,"max","360"),f(o,"step","1"),f(o,"class","svelte-76nv9a")},m(r,a){l(r,t,a),l(r,n,a),l(r,o,a),w(o,e[7].gears[e[3]-1].position.down),i||(s=v(o,"input",e[24]),i=!0)},p(e,t){136&t[0]&&g(o.value)!==e[7].gears[e[3]-1].position.down&&w(o,e[7].gears[e[3]-1].position.down)},d(e){e&&a(t),e&&a(n),e&&a(o),i=!1,s()}}}function G(e){let t,n,o;return{c(){t=c("input"),f(t,"type","number"),f(t,"id","down_position_1"),f(t,"name","down_position_1"),f(t,"min","0"),f(t,"max","360"),f(t,"step","1"),f(t,"class","svelte-76nv9a")},m(i,s){l(i,t,s),w(t,e[8].gears[e[3]-1].position.up),n||(o=v(t,"input",e[27]),n=!0)},p(e,n){264&n[0]&&g(t.value)!==e[8].gears[e[3]-1].position.up&&w(t,e[8].gears[e[3]-1].position.up)},d(e){e&&a(t),n=!1,o()}}}function W(e){let t,n,o,i,s;return{c(){t=c("span"),t.textContent="/",n=p(),o=c("input"),f(t,"class","svelte-76nv9a"),f(o,"type","number"),f(o,"id","down_position_2"),f(o,"name","down_position_2"),f(o,"min","0"),f(o,"max","360"),f(o,"step","1"),f(o,"class","svelte-76nv9a")},m(r,a){l(r,t,a),l(r,n,a),l(r,o,a),w(o,e[7].gears[e[3]-1].position.up),i||(s=v(o,"input",e[28]),i=!0)},p(e,t){136&t[0]&&g(o.value)!==e[7].gears[e[3]-1].position.up&&w(o,e[7].gears[e[3]-1].position.up)},d(e){e&&a(t),e&&a(n),e&&a(o),i=!1,s()}}}function K(t){let n;function o(e,t){return e[1]&&e[4]&&e[2]?V:I}let i=o(t),s=i(t);return{c(){n=c("main"),s.c(),f(n,"class","container svelte-76nv9a")},m(e,t){l(e,n,t),s.m(n,null)},p(e,t){i===(i=o(e))&&s?s.p(e,t):(s.d(1),s=i(e),s&&(s.c(),s.m(n,null)))},i:e,o:e,d(e){e&&a(n),s.d()}}}function Q(e,t,n){let o,i,s,r,l,a,c,u,d=!1;function p(){n(8,o.gears[s-1].position.down++,o),i&&n(7,i.gears[s-1].position.down++,i)}function v(){n(8,o.gears[s-1].position.down--,o),o.gears[s-1].position.down<0&&n(8,o.gears[s-1].position.down=0,o),i&&(n(7,i.gears[s-1].position.down--,i),i.gears[s-1].position.down<0&&n(7,i.gears[s-1].position.down=0,i))}function f(){n(8,o.gears[s-1].position.up++,o),i&&n(7,i.gears[s-1].position.up++,i)}function m(){n(8,o.gears[s-1].position.up--,o),o.gears[s-1].position.up<0&&n(8,o.gears[s-1].position.up=0,o),i&&(n(7,i.gears[s-1].position.up--,i),i.gears[s-1].position.up<0&&n(7,i.gears[s-1].position.up=0,i))}function w(){!async function(e){if(!(e.length>0))throw"No values to send";{let t={},n={};t[e[0].name]=e[0].gears.sort(((e,t)=>e.id-t.id)),e.length>1&&(n[e[1].name]=e[1].gears.sort(((e,t)=>e.id-t.id)));const o=n?Object.assign(Object.assign({},t),n):t;console.log("Sending: ",o);try{const e=await fetch("/api/gear/configuration",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`${e.status} ${e.statusText}`)}catch(e){return alert(e.message),e}}}(u)}async function _(){const e=document.getElementById("import-file");try{const t=await function(e){return e.click(),new Promise(((t,n)=>{e.addEventListener("change",(function o(){try{e.removeEventListener("change",o);const n=e.files[0],i=new FileReader;i.readAsText(n),i.onload=()=>{const e=i.result,n=JSON.parse(e);console.log(n),t(n)}}catch(e){n(e)}}))}))}(e);console.log("Read from file: ",t),t&&t.length==u.length&&t.every((e=>e.gears.length===l))?(n(2,u=t),alert("Import successful")):alert("Invalid file")}catch(e){console.log(e),alert("Invalid file")}}async function b(){const e=await async function(){const e=await fetch("/api/info");return await e.json()}();console.log("Received bike info: ",e),n(4,l=e.gear),n(1,a=e.servo),n(5,c=e.name),n(3,s=1),n(0,r=[1]);const t=await async function(){const e=await fetch("/api/gear/configuration"),t=await e.json();let n=[];return n[0]={id:1,name:"servo1",gears:R(t.servo1)},t.servo2&&(n[1]={id:2,name:"servo2",gears:R(t.servo2)}),n}();n(2,u=t.sort(((e,t)=>e.id-t.id))),console.log("Received positions: ",u)}k((async()=>{try{await b()}catch(e){console.error(e)}}));const x=[[]];return e.$$.update=()=>{3&e.$$.dirty[0]&&1==a&&n(0,r=[r[0]]),5&e.$$.dirty[0]&&n(8,o=u&&u.find((e=>e.id===r[0]))),5&e.$$.dirty[0]&&n(7,i=u&&r.length>1?u.find((e=>e.id===r[1])):void 0)},[r,a,u,s,l,c,d,i,o,p,v,f,m,w,_,b,function(){d=this.checked,n(6,d)},function(){r=h(x[0],this.__value,this.checked),n(0,r),n(1,a)},x,function(){r=h(x[0],this.__value,this.checked),n(0,r),n(1,a)},function(){r=h(x[0],this.__value,this.checked),n(0,r),n(1,a)},e=>n(3,s=e+1),()=>d?p():v(),function(){o.gears[s-1].position.down=g(this.value),n(8,o),n(2,u),n(0,r),n(1,a)},function(){i.gears[s-1].position.down=g(this.value),n(7,i),n(2,u),n(0,r),n(1,a)},()=>d?v():p(),()=>d?f():m(),function(){o.gears[s-1].position.up=g(this.value),n(8,o),n(2,u),n(0,r),n(1,a)},function(){i.gears[s-1].position.up=g(this.value),n(7,i),n(2,u),n(0,r),n(1,a)},()=>d?m():f(),()=>function(e,t){const n=JSON.stringify(e),o=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=t,s.click(),URL.revokeObjectURL(i)}(u,`${c}_${Date.now()}.json`),()=>_(),()=>w(),()=>b()]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),H(this,e,Q,K,s,{},null,[-1,-1])}}({target:document.body})}();
